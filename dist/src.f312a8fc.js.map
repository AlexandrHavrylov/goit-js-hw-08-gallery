{"version":3,"sources":["src/gallery-data.js","src/index.js"],"names":["preview","original","description","galleryBox","document","querySelector","modalBox","modalImage","createImg","pictures","map","index","join","onImageClik","evt","preventDefault","target","classList","contains","add","setAtributes","dataset","source","getAttribute","window","addEventListener","code","remove","imageChange","closeModal","removeEventListener","setAttribute","currentImg","currentImgIndex","length","nextImgIndex","Number","nextImg","prevImgIndex","prevImg","imgURL","imgAlt","imgIndex","innerHTML"],"mappings":";AAAe,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,aAAA,EAAA,IAAA,EAAA,CACb,CACEA,QACE,uFACFC,SACE,uFACFC,YAAa,mBAEf,CACEF,QACE,4EACFC,SACE,4EACFC,YAAa,6BAEf,CACEF,QACE,wEACFC,SACE,wEACFC,YAAa,qBAEf,CACEF,QACE,0EACFC,SACE,0EACFC,YAAa,iBAEf,CACEF,QACE,4EACFC,SACE,4EACFC,YAAa,oBAEf,CACEF,QACE,4EACFC,SACE,4EACFC,YAAa,yBAEf,CACEF,QACE,2EACFC,SACE,2EACFC,YAAa,yBAEf,CACEF,QACE,4EACFC,SACE,4EACFC,YAAa,oBAEf,CACEF,QACE,6EACFC,SACE,6EACFC,YAAa,yBA9DF,QAAA,QAAA;;ACsIV,aAtIL,IAAA,EAAA,EAAA,QAAA,mBAsIK,SAAA,EAAA,GAAA,OAAA,GAAA,EAAA,WAAA,EAAA,CAAA,QAAA,GApIL,IAAMC,EAAaC,SAASC,cAAc,eACpCC,EAAWF,SAASC,cAAc,gBAClCE,EAAaH,SAASC,cAAc,oBAIpCG,EAAYC,EAASC,QAAAA,IAAI,SAAkCC,EAAAA,GAAhCX,IAAAA,EAAAA,EAAAA,QAASC,EAAAA,EAAAA,SAASC,EAAAA,EAAAA,YAKvCF,MAAAA,gFAAAA,OAAAA,EAICA,+DAAAA,OAAAA,EACQC,0BAAAA,OAAAA,EACRC,kBAAAA,OAAAA,EACOS,yBAAAA,OAAAA,EAXlB,8BAgBCC,KAAK,IASR,SAASC,EAAYC,IACnBA,EAAIC,iBAEaD,EAAIE,OAAOC,UAAUC,SAAS,qBAK/CZ,EAASW,UAAUE,IAAI,WAQvBC,EAJeN,EAAIE,OAAOK,QAAQC,OACnBR,EAAIE,OAAOO,aAAa,OACtBT,EAAIE,OAAOK,QAAQV,OAMlCa,OAAOC,iBAAiB,UAAW,SAACX,GACnB,WAAbA,EAAIY,MACPpB,EAASW,UAAUU,OAAO,aAK7BH,OAAOC,iBAAiB,UAAWG,IASrC,SAASC,EAAWf,GAEDA,EAAIE,OAAOC,UAAUC,SAAS,qBAM9CM,OAAOM,oBAAoB,UAAW,SAAChB,GACrB,WAAbA,EAAIY,MACPpB,EAASW,UAAUU,OAAO,aAI3BH,OAAOM,oBAAoB,UAAWF,GAExCtB,EAASW,UAAUU,OAAO,WAG5BpB,EAAWwB,aAAa,MAAO,KAC/BxB,EAAWwB,aAAa,MAAO,MAO/B,SAASH,EAAad,GAEdkB,IACAC,EADa7B,SAASC,cAAc,oBACPgB,QAAQV,MAEvCG,GAAa,eAAbA,EAAIY,MAEFO,EAAkBxB,EAASyB,QAAAA,OAAS,EAAG,CACnCC,IAAAA,EAAeC,OAAOH,GAAmB,EACzCI,EAAUjC,SAASC,cAA6C8B,+BAAAA,OAAAA,EAAtE,OAIDf,EAHoBiB,EAAQhB,QAAQC,OAChBe,EAAQd,aAAa,OAEHY,GAIrCrB,GAAa,cAAbA,EAAIY,MAEFO,EAAkB,EAAG,CACjBK,IAAAA,EAAeF,OAAOH,GAAmB,EAEzCM,EAAUnC,SAASC,cAA6CiC,+BAAAA,OAAAA,EAAtE,OAIFlB,EAHqBmB,EAAQlB,QAAQC,OAChBiB,EAAQhB,aAAa,OAELe,IAMzC,SAASlB,EAAaoB,EAAQC,EAAQC,GAEnCnC,EAAWwB,aAAa,MAAUS,GAAAA,OAAAA,IACnCjC,EAAWwB,aAAa,MAAUU,GAAAA,OAAAA,IAClClC,EAAWwB,aAAa,aAAiBW,GAAAA,OAAAA,IA1G3CvC,EAAWwC,UAAYnC,EAKvBL,EAAWsB,iBAAiB,QAASZ,GAoCrCP,EAASmB,iBAAiB,QAASI","file":"src.f312a8fc.js","sourceRoot":"..","sourcesContent":["export default [\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2019/05/14/16/43/himilayan-blue-poppy-4202825__340.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2019/05/14/16/43/himilayan-blue-poppy-4202825_1280.jpg',\r\n    description: 'Hokkaido Flower',\r\n  },\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2019/05/14/22/05/container-4203677__340.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2019/05/14/22/05/container-4203677_1280.jpg',\r\n    description: 'Container Haulage Freight',\r\n  },\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2019/05/16/09/47/beach-4206785__340.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2019/05/16/09/47/beach-4206785_1280.jpg',\r\n    description: 'Aerial Beach View',\r\n  },\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2016/11/18/16/19/flowers-1835619__340.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2016/11/18/16/19/flowers-1835619_1280.jpg',\r\n    description: 'Flower Blooms',\r\n  },\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2018/09/13/10/36/mountains-3674334__340.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2018/09/13/10/36/mountains-3674334_1280.jpg',\r\n    description: 'Alpine Mountains',\r\n  },\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2019/05/16/23/04/landscape-4208571__340.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2019/05/16/23/04/landscape-4208571_1280.jpg',\r\n    description: 'Mountain Lake Sailing',\r\n  },\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2019/05/17/09/27/the-alps-4209272__340.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2019/05/17/09/27/the-alps-4209272_1280.jpg',\r\n    description: 'Alpine Spring Meadows',\r\n  },\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2019/05/16/21/10/landscape-4208255__340.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2019/05/16/21/10/landscape-4208255_1280.jpg',\r\n    description: 'Nature Landscape',\r\n  },\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2019/05/17/04/35/lighthouse-4208843__340.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2019/05/17/04/35/lighthouse-4208843_1280.jpg',\r\n    description: 'Lighthouse Coast Sea',\r\n  }, \r\n];","import pictures from './gallery-data'\r\n\r\nconst galleryBox = document.querySelector('.js-gallery')\r\nconst modalBox = document.querySelector('.js-lightbox')\r\nconst modalImage = document.querySelector('.lightbox__image')\r\n\r\n// Создаем разметку\r\n\r\nconst createImg = pictures.map(({preview, original,description}, index) => {\r\n  return `\r\n    <li class=\"gallery__item\">\r\n  <a\r\n    class=\"gallery__link\"\r\n    href=\"${preview}\"\r\n  >\r\n    <img\r\n      class=\"gallery__image\"\r\n      src=\"${preview}\"\r\n      data-source=\"${original}\"\r\n      alt=\"${description}\"\r\n      data-index=\"${index}\"\r\n    />\r\n  </a>\r\n</li>`\r\n\r\n}).join(\"\")\r\n\r\ngalleryBox.innerHTML = createImg\r\n\r\n\r\n// Открытие модалки по клику\r\n\r\ngalleryBox.addEventListener('click', onImageClik)\r\n\r\nfunction onImageClik(evt) {\r\n  evt.preventDefault()\r\n\r\nconst galleryImg = evt.target.classList.contains('gallery__image')\r\n  if (!galleryImg) {\r\n return\r\n  }\r\n  \r\n  modalBox.classList.add(\"is-open\")\r\n  \r\n\r\n  // Получаем и устанавливаем атрибуты для полной каринки \r\n  const imgURL = evt.target.dataset.source\r\n  const imgAlt = evt.target.getAttribute('alt')\r\n  const imgIndex = evt.target.dataset.index\r\n \r\n  setAtributes (imgURL, imgAlt, imgIndex)\r\n \r\n\r\n  // Закрытие модалки по нажатию эскейп\r\n    window.addEventListener(\"keydown\", (evt) => {\r\n    if (evt.code === 'Escape') {\r\n     modalBox.classList.remove(\"is-open\")\r\n   }\r\n  })\r\n\r\n// Смена картинки по нажатию стрелок на клавиатуре\r\n  window.addEventListener(\"keydown\", imageChange) \r\n     \r\n  \r\n    }\r\n\r\n\r\n// Закрытие модалки\r\nmodalBox.addEventListener('click', closeModal)\r\n\r\nfunction closeModal(evt) {\r\n\r\n  const modalImg = evt.target.classList.contains('lightbox__image')\r\n  if (modalImg) {\r\n    return\r\n  }\r\n\r\n  // Снятие слушателей событий по кнопкам\r\n   window.removeEventListener(\"keydown\", (evt) => {\r\n    if (evt.code === 'Escape') {\r\n     modalBox.classList.remove(\"is-open\")\r\n   }\r\n  })\r\n\r\n    window.removeEventListener(\"keydown\", imageChange) \r\n\r\n  modalBox.classList.remove(\"is-open\")\r\n\r\n\r\nmodalImage.setAttribute(\"src\", \" \" )\r\nmodalImage.setAttribute(\"alt\", \" \")\r\n\r\n\r\n\r\n}\r\n\r\n// Смена картинок\r\nfunction imageChange (evt) {\r\n       \r\n  const currentImg = document.querySelector('.lightbox__image')\r\n  const currentImgIndex = currentImg.dataset.index\r\n\r\n  if (evt.code === 'ArrowRight') {\r\n      \r\n    if (currentImgIndex < pictures.length - 1) {\r\n      const nextImgIndex = Number(currentImgIndex) + 1\r\n      const nextImg = document.querySelector(`.gallery__image[data-index=\"${nextImgIndex}\"]`)\r\n      const nextImgUrl = nextImg.dataset.source\r\n      const nextImgAlt = nextImg.getAttribute(\"alt\")\r\n\r\n     setAtributes (nextImgUrl, nextImgAlt, nextImgIndex)\r\n    }\r\n  }\r\n    \r\n  if (evt.code === 'ArrowLeft') {\r\n\r\n    if (currentImgIndex > 0) {\r\n      const prevImgIndex = Number(currentImgIndex) - 1\r\n\r\n      const prevImg = document.querySelector(`.gallery__image[data-index=\"${prevImgIndex}\"]`)\r\n      const prevImgUrl = prevImg.dataset.source\r\n      const prevImgAlt = prevImg.getAttribute(\"alt\")\r\n\r\n    setAtributes(prevImgUrl, prevImgAlt, prevImgIndex)\r\n    }\r\n  }\r\n}\r\n\r\n\r\nfunction setAtributes(imgURL, imgAlt, imgIndex) {\r\n      \r\n   modalImage.setAttribute(\"src\", `${imgURL}` )\r\n  modalImage.setAttribute(\"alt\", `${imgAlt}`)\r\n  modalImage.setAttribute(\"data-index\", `${imgIndex}`)\r\n    }"]}